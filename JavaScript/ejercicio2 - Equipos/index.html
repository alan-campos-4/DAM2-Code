<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
        crossorigin="anonymous">
    <title>Document</title>
    <style>
        table tbody td:nth-child(2), table td:nth-child(3) {
            text-align: right;
        }
        table thead tr {
            text-align: center;
        }
    </style>
</head>
<body>

    <div class="container">

        <h2>¿Cuál es tu equipo?</h2>
        <!--
        <select id="team_select" onchange="operation()">
            <option selected>Seleccione operación</option>
            <option value="1">Barcelona</option>
            <option value="2">Madrid</option>
            <option value="3">Recreativo</option>
        </select>
        <input type="button" class="btn btn-primary" value="Votar" onclick="countTeams()">
        -->
        
        Barcelona:  <input type="radio" name="team" id="barcelona" value="1"><br>
        Madrid:     <input type="radio" name="team" id="madrid" value="2"><br>
        Recreativo: <input type="radio" name="team" id="recreativo" value="3"><br>
        <input type="button" class="btn btn-primary" value="Votar" onclick="voteTeam()">

        <br><br>

        <h4>Conteo de votos</h4>
        <table class="table table-striped">
            <thead>
                <tr>
                    <td>Equipo</td>
                    <td>Nº de votos</td>
                    <td>Porcentaje</td>
                </tr>
            </thead>
            <tobdy>
                <tr>
                    <td>Barcelona</td>
                    <td><span id="T1votes">0</td>
                    <td><span id="T1percent">0.00%</td>
                </tr>
                <tr>
                    <td>Madrid</td>
                    <td><span id="T2votes">0</td>
                    <td><span id="T2percent">0.00%</td>
                </tr>
                <tr>
                    <td>Recreativo</td>
                    <td><span id="T3votes">0</td>
                    <td><span id="T3percent">0.00%</td>
                </tr>
                <tr>
                    <td>Total</td>
                    <td><span id="Totalvotes">0</td>
                    <td></td>
                </tr>
            </tobdy>
        </table>

    </div>
</body>



<script>
    function countTeams() {
        T1votes = parseInt(document.getElementById('T1votes').innerHTML);
        T2votes = parseInt(document.getElementById('T2votes').innerHTML);
        T3votes = parseInt(document.getElementById('T3votes').innerHTML);
        total = T1votes + T2votes + T3votes;

        choice = document.getElementById('team_select').value;
        switch(choice)
        {
            case "1": T1votes++; break;
            case "2": T2votes++; break;
            case "3": T3votes++; break;
        }
        total++;

        document.getElementById('Totalvotes').innerHTML = total;
        document.getElementById('T1votes').innerHTML = T1votes;
        document.getElementById('T2votes').innerHTML = T2votes;
        document.getElementById('T3votes').innerHTML = T3votes;
        document.getElementById('T1percent').innerHTML = parseFloat(T1votes / total * 100).toFixed(2)+"%";
        document.getElementById('T2percent').innerHTML = parseFloat(T2votes / total * 100).toFixed(2)+"%";
        document.getElementById('T3percent').innerHTML = Number(T3votes / total).toLocaleString(undefined,{style: 'percent', minimumFractionDigits:2});
    }

    function voteTeam() {
        option = document.getElementsByName("team");
        console.log(option);
    }
</script>
</html>